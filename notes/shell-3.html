<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-11-14 Mon 22:46 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Shell-3: loops, scripts</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Paul E. Johnson &lt;pauljohn@ku.edu&gt;" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Shell-3: loops, scripts</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org27415b9">1. Process lots of files</a>
<ul>
<li><a href="#orgcf33cf4">1.1. Fairly common problem</a></li>
</ul>
</li>
<li><a href="#org6e6a907">2. The shell offers a convenient "for" loop that can handle this.</a>
<ul>
<li><a href="#orga853bed">2.1. My Vacation Photo example.</a></li>
<li><a href="#org892a2de">2.2. North Pacific gyre data example</a></li>
<li><a href="#org09019aa">2.3. My opinion on where the output should go</a></li>
<li><a href="#orgcb852b6">2.4. goostats is a script included with the project.</a>
<ul>
<li><a href="#org61dc0d0">2.4.1. run goostats once</a></li>
<li><a href="#orgda72344">2.4.2. For loop: run <b>over and over</b></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf4ad9e2">3. Scripts and command line arguments</a>
<ul>
<li><a href="#org37b6145">3.1. The Big Picture</a>
<ul>
<li><a href="#org0efb287">3.1.1. Create the text file "dostats.sh".</a></li>
<li><a href="#org03e4c2b">3.1.2. Deal with the command line arguments</a></li>
</ul>
</li>
<li><a href="#org6ff5898">3.2. Command line arguments</a>
<ul>
<li><a href="#org7298431">3.2.1. Key Terms</a></li>
<li><a href="#org461e9bf">3.2.2. Lets make a little test case.</a></li>
</ul>
</li>
<li><a href="#orga0107f1">3.3. Detour on executable files and "bash" as a program.</a></li>
<li><a href="#org95f6a76">3.4. Detour about the hash-bang</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org27415b9" class="outline-2">
<h2 id="org27415b9"><span class="section-number-2">1</span> Process lots of files</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgcf33cf4" class="outline-3">
<h3 id="orgcf33cf4"><span class="section-number-3">1.1</span> Fairly common problem</h3>
<div class="outline-text-3" id="text-1-1">
<ol class="org-ol">
<li>Data collection generates 1000s of data files and each one must be
processed separately.</li>

<li>Project generates 1000s of pdf files and we are required to look
through a large random sample, one-by-one.</li>

<li>Vacation photos are saved in super high resolution and we need to
convert each one to something smaller for Instagram.</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-org6e6a907" class="outline-2">
<h2 id="org6e6a907"><span class="section-number-2">2</span> The shell offers a convenient "for" loop that can handle this.</h2>
<div class="outline-text-2" id="text-2">
<pre class="example">
for index ...items list here...
   do
      ...commands involving $index
done
</pre>

<p>
<b>Syntax</b>:  
</p>

<ol class="org-ol">
<li><b>for</b>: Lets the shell know something is coming.</li>
<li>An "index" variable is created, which is used to refer to each one
of the things, one at a time</li>
<li>Keywords <b>do</b> and <b>done</b> are bookmarks for a sequence of shell statements.</li>
</ol>
</div>

<div id="outline-container-orga853bed" class="outline-3">
<h3 id="orga853bed"><span class="section-number-3">2.1</span> My Vacation Photo example.</h3>
<div class="outline-text-3" id="text-2-1">
<p>
When I went on vacation, I saved photos that were way too huge. There
is a handy free program named "convert" that can rescale images
however you like, but it wants one file at a time. The syntax for
that is
</p>

<pre class="example">
$ convert file.jpg -resize 1400x1050 -quality 85 file.new.jpg
</pre>

<p>
To process a lot of files, it is necessary to take each file, create a
new name, and then run convert on each one. 
</p>

<p>
I want output that takes the old name <b>file.jpg</b> and creates
the new name <b>file-1400x1050.jpg</b>. This file name part of the
assignment creates a little detour on splitting the file name in two
pieces. There is a handy program called <b>basename</b> that I use
often. 
</p>

<p>
We can write this out in 2 ways
</p>

<ol class="org-ol">
<li><p>
The "jam it all into 1 line method" uses semi-colon (;) for
puncutation.
</p>

<pre class="example">
$ for fn in *.jpg; do base=`basename $fn .jpg`; convert $fn -resize 1400x1050 -quality 85 $base-1400x1050.jpg; done
</pre></li>

<li>The patient shell approach. BASH knows you are not</li>
</ol>
<p>
done typing when you hit return, it waits (signalling "&gt;" to you)
</p>

<pre class="example">
$ for fn in *.jpg
&gt; do 
&gt;   base=`basename $fn .jpg` 
&gt;   convert $fn -resize 1400x1050 -quality 85 $base-1400x1050.jpg
&gt; done
</pre>

<p>
If you type that in, the shell will wait until you hit enter after
done to begin.
</p>

<p>
Tricky bits. 
</p>

<ol class="org-ol">
<li>The first "fn" has no dollar sign, but when it is accessed, "$fn" it
does! Among programming languages, that is unusual. The variable is
created with no dollar sign, but to access it we require the dollar
sign.</li>

<li>The "do" statement applies to all of the lines that follow, until
done. The one line method makes it appear as though it only applies
to the first.</li>
</ol>
</div>
</div>


<div id="outline-container-org892a2de" class="outline-3">
<h3 id="org892a2de"><span class="section-number-3">2.2</span> North Pacific gyre data example</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Recall in the north-pacific-gyre folder, there are several data files
to be processed.
</p>

<div class="org-src-container">
<pre class="src src-sh">ls N*.txt
</pre>
</div>

<pre class="example">
NENE01729A.txt
NENE01729B.txt
NENE01736A.txt
NENE01751A.txt
NENE01751B.txt
NENE01812A.txt
NENE01843A.txt
NENE01843B.txt
NENE01971Z.txt
NENE01978A.txt
NENE01978B.txt
NENE02018B.txt
NENE02040A.txt
NENE02040B.txt
NENE02040Z.txt
NENE02043A.txt
NENE02043B.txt
</pre>

<p>
<b>Our Assignment</b>: Run each txt files through a data processing script.
</p>

<p>
Recall the problems unearthed in data inspection
</p>

<ol class="org-ol">
<li>One file too small</li>
<li>The Z-ending files are not useful</li>
</ol>

<p>
The shell script "goostats" is used to process each file and
create a new data output file.
</p>
</div>
</div>


<div id="outline-container-org09019aa" class="outline-3">
<h3 id="org09019aa"><span class="section-number-3">2.3</span> My opinion on where the output should go</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>I strongly prefer to keep the output in a separate output directory.</li>
<li>And I would almost certainly put the output directory outside the
current working directory.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">mkdir ../output
</pre>
</div>

<p>
Why do I like that? No danger of disrupting original data.
</p>

<p>
In fact, I'd make the original data read only like so
</p>

<pre class="example">
chmod -w N*.txt
</pre>
</div>
</div>

<div id="outline-container-orgcb852b6" class="outline-3">
<h3 id="orgcb852b6"><span class="section-number-3">2.4</span> goostats is a script included with the project.</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Our assignment is to run each file through goostats. 
</p>
</div>

<div id="outline-container-org61dc0d0" class="outline-4">
<h4 id="org61dc0d0"><span class="section-number-4">2.4.1</span> run goostats once</h4>
<div class="outline-text-4" id="text-2-4-1">
<ul class="org-ul">
<li>The correct way to process just one file, including 2 parameters
that professor said we needed.:</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">bash goostats  -J 100 -r NENE01729A.txt ../output/NENE01729A-stats.txt
</pre>
</div>

<ul class="org-ul">
<li>Did it work?</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">ls ../output
</pre>
</div>

<pre class="example">
NENE01729A-stats.txt
</pre>

<ul class="org-ul">
<li>Lets remove that output folder before we try again</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">rm -rf  <span style="color: #8b7355;">"../output"</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgda72344" class="outline-4">
<h4 id="orgda72344"><span class="section-number-4">2.4.2</span> For loop: run <b>over and over</b></h4>
<div class="outline-text-4" id="text-2-4-2">
<pre class="example">
$ mkdir ../output
$ for fn in *[AB].txt
&gt;    do
&gt;        bash goostats -J 100 -r "$fn" "../output/stats-$fn"
&gt; done
</pre>
</div>
</div>
</div>
</div>





<div id="outline-container-orgf4ad9e2" class="outline-2">
<h2 id="orgf4ad9e2"><span class="section-number-2">3</span> Scripts and command line arguments</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-org37b6145" class="outline-3">
<h3 id="org37b6145"><span class="section-number-3">3.1</span> The Big Picture</h3>
<div class="outline-text-3" id="text-3-1">
<ol class="org-ol">
<li>Test commands that work in the command line</li>
<li>Put those lines into a file</li>
<li>Work out the command line arguments problem</li>
<li>Consider adding "hash-bang" in line 1</li>
</ol>
</div>


<div id="outline-container-org0efb287" class="outline-4">
<h4 id="org0efb287"><span class="section-number-4">3.1.1</span> Create the text file "dostats.sh".</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
It looks nicer to write it like this:
</p>


<pre class="example">
for fn in *[AB].txt
do
    echo $fn
    bash goostats -J 100 -r "$fn" "output/stats-$fn" 
done
</pre>


<p>
But it is allowed to use semi-colon to jamb it into one line
</p>

<pre class="example">
for fn in *[AB].txt; do  echo $fn;  bash goostats -J 100 -r "$fn" "../output/stats-$fn"; done
</pre>
</div>
</div>

<div id="outline-container-org03e4c2b" class="outline-4">
<h4 id="org03e4c2b"><span class="section-number-4">3.1.2</span> Deal with the command line arguments</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
Now we have the file names hard coded in the script.
</p>

<p>
Here we use the shortcut "$@" to grab all command line arguments
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #7f7f7f;">### </span><span style="color: #7f7f7f;">rm -rf ../output</span>
mkdir ../output
<span style="color: #1c86ee;">for</span> fn<span style="color: #1c86ee;"> in</span> <span style="color: #8b7355;">"$@"</span>
<span style="color: #1c86ee;">do</span>
    <span style="color: #cd6600;">echo</span> $<span style="color: #2e8b57;">fn</span>
    bash goostats -J 100 -r <span style="color: #8b7355;">"$fn"</span> <span style="color: #8b7355;">"../output/stats-$fn"</span> 
<span style="color: #1c86ee;">done</span>
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-org6ff5898" class="outline-3">
<h3 id="org6ff5898"><span class="section-number-3">3.2</span> Command line arguments</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The shell command line arguments can be handled in many ways. The
simple way simply used arguments by their position in the command
line. This is not the best way, since there is no error checking
on the inputs. However, it is commonly used in small projects.
</p>
</div>

<div id="outline-container-org7298431" class="outline-4">
<h4 id="org7298431"><span class="section-number-4">3.2.1</span> Key Terms</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
Inside a shell script, these are the simple ways to access command
line arguments.
</p>

<ol class="org-ol">
<li>The dollar sign picks individual arguments

<ul class="org-ul">
<li>$n means the n'th argument.</li>

<li>$1 means "the first command line argument"</li>
<li>$2 means "the second command line argument"</li>
</ul></li>

<li>$@ collects up all of the command line arguments.</li>
</ol>

<p>
More rigorous ways exist to name and check command
line arguments. Don't get too committed to the simple
$1 $2 notation.
</p>
</div>
</div>

<div id="outline-container-org461e9bf" class="outline-4">
<h4 id="org461e9bf"><span class="section-number-4">3.2.2</span> Lets make a little test case.</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
<b>mytest.sh</b>
</p>

<pre class="example">
echo "$1"
echo "$2"
echo "OMG here is $1 again"
echo "I'll splat them together $1$2"
</pre>

<p>
I often forget the double-quotes on the arguments.
</p>

<p>
Test that in the command line
</p>

<ol class="org-ol">
<li>No quotes</li>
</ol>

<pre class="example">
sh mytest.sh hellopaul hellobill
</pre>

<ol class="org-ol">
<li>Watch what goes wrong if you have a space in a argument name "hello paul"</li>
</ol>

<pre class="example">
sh mytest.sh hello paul hellobill
</pre>

<ol class="org-ol">
<li>Need to quote the argument to keep the pieces together</li>
</ol>

<pre class="example">
sh mytest.sh "hello paul" hellobill
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0107f1" class="outline-3">
<h3 id="orga0107f1"><span class="section-number-3">3.3</span> Detour on executable files and "bash" as a program.</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Using goostats on a single file, novice might be tempted to run
</p>

<pre class="example">
goostats infile.txt outfile.txt
</pre>

<p>
However, we hit problem(s). 
</p>
<ol class="org-ol">
<li>goostats.sh is not executable, and</li>
<li>goostats.sh is not in the path</li>
</ol>

<p>
So we can't run it
</p>

<ul class="org-ul">
<li>My natural inclination would be to make goostats executable</li>
</ul>

<pre class="example">
chmod +x goostats.sh
</pre>

<ul class="org-ul">
<li>and then run with the "./" trick</li>
</ul>

<pre class="example">
./goostats.sh infile.txt outfile.txt
</pre>

<ul class="org-ul">
<li>however, for security reasons, the system administrators have
forbidden us from creating new executable files.</li>

<li>there is a work-around, however, because even though "goostats"
is not executable, we are allowed to run the program "bash" and
it can open goostats and run it for us.</li>
</ul>


<ul class="org-ul">
<li>`bash` or `sh` or other shells</li>
</ul>

<p>
In the simple cases we are using here, it is virtually certain the 
program would run in a simpler shell than BASH, such as the much more
generic `sh` or the "lightweight" derivatives like `zsh`
</p>

<pre class="example">
sh goostats.sh
</pre>

<p>
I mention this because on some large multi user systems, the `bash` 
luxury might not be available, while `sh` almost certainly will be.
</p>
</div>
</div>




<div id="outline-container-org95f6a76" class="outline-3">
<h3 id="org95f6a76"><span class="section-number-3">3.4</span> Detour about the hash-bang</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><p>
If we could make this executable, then running it would not
guarantee the correct shell is used to run it. We want to make
sure that `bash` is used, for example.
</p>

<p>
We showed above it is possible to launch a program by passing it to
"bash". That's not unheard of, but it would be somewhat unusual to 
do this when the work is finished.
</p></li>

<li><p>
#! is pronounced "hash bang". 
</p>

<p>
Often people would insert a line 1 message like this
</p></li>
</ul>

<pre class="example">
#!/bin/bash
</pre>

<ul class="org-ul">
<li>Make the script executable, run</li>
</ul>

<pre class="example">
chmod +x dostats.sh
</pre>

<ul class="org-ul">
<li>If we could make that executable, then we could launch the script</li>
</ul>

<pre class="example">
./handlegoo.sh
</pre>

<ul class="org-ul">
<li>But if we are not allowed to do that the usual Unix say, we run like this</li>
</ul>

<pre class="example">
bash handlegoo.sh
</pre>

<ul class="org-ul">
<li>The "-x" flag activates a debug mode in bash</li>
</ul>


<pre class="example">
bash -x handlegoo.sh
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">&lt;2016-11-13 Sun&gt;</span></span></p>
<p class="author">Author: Paul E. Johnson &lt;pauljohn@ku.edu&gt;</p>
<p class="date">Created: 2016-11-14 Mon 22:46</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
